<!DOCTYPE html>

<html>
  <head>
  <title>Test Donut</title>
  <script src="https://d3js.org/d3.v5.js"></script>
  <style>
    text {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 24px;
      font-weight: 200;
      fill: white;
    }
  </style>
  </head>
  <body>
    <script>
      let width = 600, height = 500;
      // predefined color schemes are available from d3
      let colors = d3.scaleOrdinal(d3.schemeDark2);
      let svg = d3.select('body').append('svg').attr('width', width).attr('height', height).style('background', '#11375c');
      let details = [{grade: 'A+', number: 8}, {grade: 'A', number: 21}, {grade: 'B', number:15}, {grade: 'C', number:29}, {grade: 'D', number:11}, {grade: 'F', number:6}]
      // sort in the specified order rather than decending order
      let data = d3.pie().sort(null).value(d => d.number)(details);
      console.log(data);
      // styling for each slice
      let segments = d3.arc()
                       .innerRadius(120)
                       .outerRadius(200)
                       .padAngle(.05)
                       .padRadius(50)
                       .cornerRadius(5);
                       console.log(svg)
      let sections = svg.append('g').attr('transform', 'translate(250, 250)')
                        .selectAll('path').data(data);
      console.log(sections)
      sections.enter().append('path').attr('d', segments).attr("fill", d => colors(d.data.number))
      let content = d3.select('g').selectAll('text').data(data);
      content.enter().append('text').each(
        function (d) {
          let center = segments.centroid(d);
          d3.select(this).attr('x', center[0]).attr('y', center[1])
                         .text(d.data.number);
        }
      )
    </script>
  </body>
</html>